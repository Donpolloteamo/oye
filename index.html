<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> </title>
    <style>
        body, html { background-color: #000; margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; }
        #pantalla { width: 100%; height: 100%; cursor: pointer; }
    </style>
</head>
<body>
    <div id="pantalla" onclick="conectar()"></div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        const firebaseConfig = { databaseURL: "TU_URL_DE_FIREBASE_AQUI" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        
        // Diccionario de sonidos
        const sonidos = {
            'mambo': new Audio('mambo.mp3'),
            'sonido1': new Audio('sonido1.mp3'),
            'sonido2': new Audio('sonido2.mp3'),
            'sonido3': new Audio('sonido3.mp3'),
            'sonido4': new Audio('sonido4.mp3'),
            'sonido5': new Audio('sonido5.mp3')
        };

        let sistemaListo = false;

        function conectar() {
            if (sistemaListo) return;

            // Desbloqueamos todos los sonidos en silencio al tocar
            Object.values(sonidos).forEach(s => {
                s.volume = 0;
                s.play().then(() => { s.pause(); s.currentTime = 0; s.volume = 1; });
            });

            sistemaListo = true;
            document.body.style.backgroundColor = "#080808";
            console.log("Sistema multisonido listo.");

            // Escuchar seÃ±al con el nombre del archivo
            db.ref('comando').on('value', (snapshot) => {
                const data = snapshot.val();
                if (sistemaListo && data && sonidos[data.archivo]) {
                    const audio = sonidos[data.archivo];
                    audio.currentTime = 0;
                    audio.play().catch(e => console.error(e));
                }
            });
        }
    </script>
</body>
</html>
